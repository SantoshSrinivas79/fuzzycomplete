/*! fuzzycomplete 2020-04-18 */

!function(r){"undefined"!=typeof jQuery?"undefined"!=typeof Fuse?r.fn.fuzzyComplete=function(a,n){return this.each(function(){void 0===n&&(n={display:Object.keys(a[0])[0],key:Object.keys(a[0])[0],resultsLimit:4,allowFreeInput:!1,fuseOptions:{keys:Object.keys(a[0])}});var s=new Fuse(a,n.fuseOptions),e=r(this),l=r("<div>").addClass("fuzzyResults");e.after(l);var d=r("<select>").hide();!0!==n.allowFreeInput&&(d.attr("name",e.attr("name")),e.removeAttr("name")),e.after(d);var t=e.position();function i(){d.val(l.children(".selected").first().data("id")),e.val(l.children(".selected").first().data("displayValue")),d.data("extraData",l.children(".selected").first().data("extraData")),e.data("extraData",l.children(".selected").first().data("extraData"))}t.left+=parseInt(e.css("marginLeft"),10),t.top+=parseInt(e.css("marginTop"),10),l.css({left:t.left,top:t.top+e.outerHeight(),width:e.outerWidth()}),e.keydown(function(e){switch(e.which){case 13:return e.preventDefault(),l.hide(),void i();case 9:return l.hide(),void i()}}),e.keyup(function(e){switch(e.which){case 38:return(t=l.find(".selected").first()).length?(t.removeClass("selected"),t.prev().length?t.prev().addClass("selected"):l.children().last().addClass("selected")):l.children().last().addClass("selected"),void i();case 40:var t;return(t=l.find(".selected").first()).length?(t.removeClass("selected"),t.next().length?t.next().addClass("selected"):l.children().first().addClass("selected")):l.children().first().addClass("selected"),void i();case 13:return}var a=s.search(r(this).val());l.empty(),0===a.length&&d.val(null),a.forEach(function(e,t){if(!(t>=n.resultsLimit)){0===t&&d.val(e[n.key]);var a=r("<div>").addClass("__autoitem").on("mousedown",function(e){e.preventDefault()}).click(function(){l.find(".selected").removeClass("selected"),r(this).addClass("selected"),i(),l.hide()});"function"==typeof n.key?a.data("id",n.key(e,t)):a.data("id",e[n.key]),"function"==typeof n.display?a.html(n.display(e,t)):a.text(e[n.display]),"function"==typeof n.displayValue?a.data("displayValue",n.displayValue(e,t)):"string"==typeof n.displayValue?a.data("displayValue",e[n.displayValue]):a.data("displayValue",a.text()),"function"==typeof n.extraData?a.data("extraData",n.extraData(e,t)):"string"==typeof n.extraData&&a.data("extraData",e[n.extraData]),l.append(a)}}),l.children().length?(l.show(),l.children().first().addClass("selected")):l.hide()}),e.blur(function(){l.hide()}),e.focus(function(){l.children().length&&l.show()}),d.append(r("<option>",{value:"",text:"(None Selected)"})),a.forEach(function(e,t){var a,s;a="function"==typeof n.key?n.key(e,t):e[n.key],s="function"==typeof n.display?n.display(e,t):e[n.display],d.append(r("<option>",{value:a,text:s}))}),e.val()&&(e.keyup(),e.blur())})}:console.warn("fuzzyComplete plugin requires Fuse.js"):console.warn("fuzzyComplete plugin requires jQuery")}(jQuery);
//# sourceMappingURL=fuzzycomplete.min.js.map